build-pr:
    description: Add a job that would build a charm upon a PR request.
    params:
        charm-name:
            description: Name of the charm.
            type: string
        reference-bundle:
            description: |
                Charm store URL for a bundle to use to test the given
                charm. For example, "~charmers/mediawiki-single".
                If this is not provided, the charm must set it in its tests.yaml.
            type: string
            default: ""
        repo:
            description: Git repository for the charm to watch.
            type: string
        charm-subdir:
            description: |
                Subdirectory in the repo where the charm lives,
                if not at the top-level.
            default: ""
        controller:
            description: Name of controller to be used.
            type: string
        series:
            description: Series (eg xenial, trusty) if not specified by the charm.
            type: string
            default: ""
        oauth-token:
            description: OAuth token to use to comment on the PR.
            type: string
    required: ['charm-name', 'repo']
build-bundle:
    description: Build and release bundle.
    params:
        repo:
            description: Git repository.
            type: string
        branch:
            description: Branch to build.
            type: string
            default: "master"
        bundle-name:
            description: Name of the bundle.
            type: string
        controller:
            description: Name of controller to be used.
            type: string
    required: ['bundle-name', 'repo']
build-on-commit:
    description: Add a job that would build a charm upon commit.
    params:
        charm-name:
            description: Name of the charm.
            type: string
        reference-bundle:
            description: |
                Charm store URL for a bundle to use to test the given
                charm. For example, "~charmers/mediawiki-single".
                If this is not provided, the charm must set it in its tests.yaml.
            type: string
            default: ""
        repo:
            description: Git repository for the charm to watch.
            type: string
        charm-subdir:
            description: |
                Subdirectory in the repo where the charm lives,
                if not at the top-level.
            default: ""
        controller:
            description: Name, or space-separated list, of controllers to be used.
            type: string
        push-to-channel:
            description: Charm store channel to push a successfull build. Leave empty to not push.
            type: string
            default: ""
        lp-id:
            description: Launchpad ID (namespace) under which the charm will be uploaded.
            type: string
        branch:
            description: Branch to build.
            type: string
            default: "*/master"
        series:
            description: Series (eg xenial, trusty) if not specified by the charm.
            type: string
            default: ""
        repo-access:
            description: Set this to 'wehooks' or 'poll'.
            default: "webhooks"
            type: string
    required: ['charm-name', 'repo']
build-on-release:
    description: Add a job that would build a charm upon release.
    params:
        charm-name:
            description: Name of the charm.
            type: string
        reference-bundle:
            description: |
                Charm store URL for a bundle to use to test the given
                charm. For example, "~charmers/mediawiki-single".
                If this is not provided, the charm must set it in its tests.yaml.
            type: string
            default: ""
        repo:
            description: Git repository for the charm to watch.
            type: string
        charm-subdir:
            description: |
                Subdirectory in the repo where the charm lives,
                if not at the top-level.
            default: ""
        controller:
            description: Name of controller to be used.
            type: string
        push-to-channel:
            description: Charm store channel to push a successfull build. Leave empty to not push.
            type: string
            default: ""
        lp-id:
            description: Launchpad ID (namespace) under which the charm will be uploaded.
            type: string
        series:
            description: Series (eg xenial, trusty) if not specified by the charm.
            type: string
            default: ""
        repo-access:
            description: Set this to 'wehooks' or 'poll'.
            default: "webhooks"
            type: string
    required: ['charm-name', 'repo']
store-login:
    description: Initialise session with the Juju store.
    params:
        charmstore-usso-token:
            description: The base64 representation of the OATH charmstore token.
            type: string
    required: ['charmstore-usso-token']
store-logout:
    description: Terminate the session with the Juju store.
register-controller:
    description: Register a controller.
    params:
        token:
            description: The token used to register the controller.
            type: string
        name:
            description: Human friendly name for controller.
            type: string
    required: ['token', 'name']
unregister-controller:
    description: Unregister a controller.
    params:
        name:
            description: Name of controller.
            type: string
    required: ['name']
list-controllers:
    description: List all available controllers.
set-credentials:
    description: Add or update credentials for a cloud
    params:
        cloud:
            description: Name of cloud to update credentials for
        credentials:
            description: Cloud credentials as base64-encoded YAML
            type: string
